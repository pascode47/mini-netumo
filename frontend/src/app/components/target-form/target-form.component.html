<form [formGroup]="targetForm" (ngSubmit)="onSubmit()" class="target-form">
  <h2>{{ isEditMode ? 'Edit Target' : 'Add New Target' }}</h2>

  <mat-form-field appearance="fill">
    <mat-label>URL</mat-label>
    <input matInput formControlName="url" placeholder="https://example.com" required>
    <mat-error *ngIf="targetForm.get('url')?.hasError('required')">URL is required.</mat-error>
    <mat-error *ngIf="targetForm.get('url')?.hasError('pattern')">Invalid URL format.</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Name (Optional)</mat-label>
    <input matInput formControlName="name" placeholder="My Awesome Site">
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Check Interval (minutes)</mat-label>
    <input matInput type="number" formControlName="checkIntervalMinutes" placeholder="5" min="1" required>
    <mat-error *ngIf="targetForm.get('checkIntervalMinutes')?.hasError('required')">Interval is required.</mat-error>
    <mat-error *ngIf="targetForm.get('checkIntervalMinutes')?.hasError('min')">Interval must be at least 1 minute.</mat-error>
  </mat-form-field>

  <mat-checkbox formControlName="isActive" class="form-checkbox">Active Monitoring</mat-checkbox>

  <mat-form-field appearance="fill">
    <mat-label>Notification Email (Optional)</mat-label>
    <input matInput type="email" formControlName="notificationEmail" placeholder="alerts@example.com">
    <mat-error *ngIf="targetForm.get('notificationEmail')?.hasError('email')">Invalid email format.</mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Notification Webhook URL (Optional)</mat-label>
    <input matInput formControlName="notificationWebhookUrl" placeholder="https://hooks.slack.com/services/...">
    <mat-error *ngIf="targetForm.get('notificationWebhookUrl')?.hasError('pattern')">Invalid URL format.</mat-error>
  </mat-form-field>

  <div class="form-actions">
    <button mat-raised-button color="primary" type="submit" [disabled]="targetForm.invalid">{{ isEditMode ? 'Save Changes' : 'Add Target' }}</button>
    <button mat-stroked-button type="button" (click)="onCancel()">Cancel</button>
  </div>
</form>
